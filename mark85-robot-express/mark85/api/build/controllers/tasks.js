function a1_0x3e9a(){const _0x2a6873=['end','findByIdAndUpdate','body','1063665PoSskA','6gODAlk','json','_id','query','-date','1194460RrZsLz','844936PsooKD','18JGlsug','status','log','64432suaCHH','Duplicated\x20task!','name','2974664MlqWPN','params','194pZtcgQ','215095eDXcsO','ValidationError','1189IhOiCf','findOne','7mXjFBQ','find','findById','save'];a1_0x3e9a=function(){return _0x2a6873;};return a1_0x3e9a();}(function(_0x1261d7,_0x1b99cf){const _0x1acfa4=a1_0x2985,_0x4f6781=_0x1261d7();while(!![]){try{const _0x12cbd0=parseInt(_0x1acfa4(0x69))/0x1*(parseInt(_0x1acfa4(0x66))/0x2)+-parseInt(_0x1acfa4(0x7a))/0x3*(parseInt(_0x1acfa4(0x7d))/0x4)+parseInt(_0x1acfa4(0x67))/0x5*(-parseInt(_0x1acfa4(0x73))/0x6)+-parseInt(_0x1acfa4(0x6b))/0x7*(-parseInt(_0x1acfa4(0x79))/0x8)+-parseInt(_0x1acfa4(0x72))/0x9+-parseInt(_0x1acfa4(0x78))/0xa+parseInt(_0x1acfa4(0x80))/0xb;if(_0x12cbd0===_0x1b99cf)break;else _0x4f6781['push'](_0x4f6781['shift']());}catch(_0x3b64b7){_0x4f6781['push'](_0x4f6781['shift']());}}}(a1_0x3e9a,0x1bd9c));import a1_0xb0f60c from'../models/task';function a1_0x2985(_0x7179b9,_0x2bf3f4){const _0x3e9ada=a1_0x3e9a();return a1_0x2985=function(_0x298533,_0x248a2c){_0x298533=_0x298533-0x66;let _0x1d1231=_0x3e9ada[_0x298533];return _0x1d1231;},a1_0x2985(_0x7179b9,_0x2bf3f4);}export default{'create':async(_0x4b0bbc,_0x35b77a)=>{const _0x616aca=a1_0x2985,{name:_0x4ee2bf,tags:_0x1e036c}=_0x4b0bbc[_0x616aca(0x71)],{user:_0xbf8986}=_0x4b0bbc,_0x4ded47=await a1_0xb0f60c[_0x616aca(0x6a)]({'name':_0x4ee2bf,'user':_0xbf8986[_0x616aca(0x75)]});if(_0x4ded47)return _0x35b77a['status'](0x199)[_0x616aca(0x74)]({'message':_0x616aca(0x7e)});const _0x44372f=new a1_0xb0f60c({'name':_0x4ee2bf,'tags':_0x1e036c,'user':_0xbf8986[_0x616aca(0x75)]});try{const _0x255654=await _0x44372f[_0x616aca(0x6e)]();return _0x35b77a['status'](0xc9)['json'](_0x255654);}catch(_0x10f049){if(_0x10f049['name']===_0x616aca(0x68))return _0x35b77a['status'](0x190)[_0x616aca(0x74)](_0x10f049);return console[_0x616aca(0x7c)](_0x10f049),_0x35b77a[_0x616aca(0x7b)](0x1f4)[_0x616aca(0x74)](_0x10f049);}},'list':async(_0x47df21,_0x161823)=>{const _0x5256a8=a1_0x2985,{user:_0x33f8ef}=_0x47df21;let _0x12c78f={'user':_0x33f8ef['_id']};_0x47df21['query']['name']&&(_0x12c78f[_0x5256a8(0x7f)]=new RegExp(_0x47df21[_0x5256a8(0x76)][_0x5256a8(0x7f)],'i'));const _0x11fe39=await a1_0xb0f60c[_0x5256a8(0x6c)](_0x12c78f,{},{'sort':_0x5256a8(0x77)});return _0x161823[_0x5256a8(0x7b)](0xc8)[_0x5256a8(0x74)](_0x11fe39);},'get':async(_0x20f8c9,_0x15ec53)=>{const _0xbf5793=a1_0x2985,{task_id:_0x5e3ec7}=_0x20f8c9['params'],{user:_0x229640}=_0x20f8c9,_0x132eaa=await a1_0xb0f60c[_0xbf5793(0x6d)]({'_id':_0x5e3ec7,'user':_0x229640[_0xbf5793(0x75)]},{},{'sort':'-date'});if(!_0x132eaa)return _0x15ec53[_0xbf5793(0x7b)](0x194)['end']();return _0x15ec53[_0xbf5793(0x7b)](0xc8)[_0xbf5793(0x74)](_0x132eaa);},'remove':async(_0x21ddd8,_0x1d81e1)=>{const _0x1e201e=a1_0x2985,{task_id:_0x244667}=_0x21ddd8[_0x1e201e(0x81)],{user:_0x5dca0c}=_0x21ddd8,_0x145ad3=await a1_0xb0f60c['findOneAndDelete']({'_id':_0x244667,'user':_0x5dca0c[_0x1e201e(0x75)]});if(!_0x145ad3)return _0x1d81e1[_0x1e201e(0x7b)](0x194)[_0x1e201e(0x6f)]();return _0x1d81e1[_0x1e201e(0x7b)](0xcc)[_0x1e201e(0x6f)]();},'done':async(_0x301416,_0x1def23)=>{const _0xb37a7a=a1_0x2985,{task_id:_0x48d06a}=_0x301416[_0xb37a7a(0x81)],{user:_0x5341de}=_0x301416,_0x2d5d1d=await a1_0xb0f60c['findOne']({'_id':_0x48d06a,'user':_0x5341de['_id']});if(!_0x2d5d1d)return _0x1def23[_0xb37a7a(0x7b)](0x194)[_0xb37a7a(0x6f)]();try{return await a1_0xb0f60c[_0xb37a7a(0x70)]({'_id':_0x48d06a,'user':_0x5341de[_0xb37a7a(0x75)]},{'$set':{'is_done':!![]}}),_0x1def23[_0xb37a7a(0x7b)](0xcc)[_0xb37a7a(0x6f)]();}catch(_0x522135){if(_0x522135[_0xb37a7a(0x7f)]==='ValidationError')return _0x1def23[_0xb37a7a(0x7b)](0x190)[_0xb37a7a(0x74)](_0x522135);return _0x1def23[_0xb37a7a(0x7b)](0x1f4)[_0xb37a7a(0x74)](_0x522135);}},'todo':async(_0x3a7b2d,_0x10b91f)=>{const _0x4a9dcc=a1_0x2985,{task_id:_0x1a33eb}=_0x3a7b2d[_0x4a9dcc(0x81)],{user:_0x38748a}=_0x3a7b2d,_0x50b61a=await a1_0xb0f60c[_0x4a9dcc(0x6a)]({'_id':_0x1a33eb,'user':_0x38748a['_id']});if(!_0x50b61a)return _0x10b91f[_0x4a9dcc(0x7b)](0x194)[_0x4a9dcc(0x6f)]();try{return await a1_0xb0f60c[_0x4a9dcc(0x70)]({'_id':_0x1a33eb,'user':_0x38748a['_id']},{'$set':{'is_done':![]}}),_0x10b91f['status'](0xcc)['end']();}catch(_0x28334){if(_0x28334[_0x4a9dcc(0x7f)]===_0x4a9dcc(0x68))return _0x10b91f[_0x4a9dcc(0x7b)](0x190)[_0x4a9dcc(0x74)](_0x28334);return _0x10b91f[_0x4a9dcc(0x7b)](0x1f4)['json'](_0x28334);}}};